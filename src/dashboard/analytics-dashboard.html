<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkedIn Automation Analytics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="../styles/tailwind.css" rel="stylesheet">
    <link href="../assets/vintage-typography.css" rel="stylesheet">
</head>
<body class="bg-vintage-texture font-newspaper min-h-screen">
    <!-- Vintage Newspaper Header -->
    <header class="vintage-card newspaper-column single mb-vintage-xl border-b border-vintage-accent border-opacity-20 pb-vintage-lg">
        <div class="max-w-7xl mx-auto px-vintage-lg sm:px-vintage-xl lg:px-vintage-2xl">
            <div class="flex justify-between items-center py-vintage-lg">
                <div class="flex items-center space-x-vintage-md">
                    <i class="fab fa-linkedin text-vintage-sepia text-3xl"></i>
                    <div>
                        <h1 class="vintage-headline text-vintage-4xl font-newspaper font-bold text-vintage-ink mb-1">
                            Analytics Chronicle
                        </h1>
                        <p class="vintage-caption text-vintage-sm text-vintage-accent font-newspaper italic">
                            Professional Network Performance & Insights
                        </p>
                    </div>
                </div>
                <div class="flex items-center space-x-vintage-md">
                    <select id="date-range" class="vintage-input border border-vintage-accent border-opacity-30 rounded-vintage px-vintage-md py-vintage-sm text-vintage-sm focus:outline-none focus:ring-2 focus:ring-vintage-sepia focus:border-vintage-sepia">
                        <option value="7">Last 7 days</option>
                        <option value="30" selected>Last 30 days</option>
                        <option value="90">Last 90 days</option>
                        <option value="custom">Custom range</option>
                    </select>
                    <button id="refresh-btn" class="vintage-button px-vintage-md py-vintage-sm rounded-vintage text-vintage-sm font-newspaper font-semibold transition-all duration-200">
                        <i class="fas fa-sync-alt mr-2"></i>Refresh
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Custom Date Range Modal -->
    <div id="date-range-modal" class="fixed inset-0 bg-vintage-ink bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-vintage-md">
            <div class="vintage-card p-vintage-lg w-full max-w-md border border-vintage-accent border-opacity-30 shadow-vintage-lg">
                <h3 class="vintage-subheadline text-vintage-lg font-newspaper font-semibold text-vintage-ink mb-vintage-md">Select Date Range</h3>
                <div class="space-y-vintage-md">
                    <div class="vintage-form-group">
                        <label class="vintage-label text-vintage-sm text-vintage-accent font-newspaper mb-1">Start Date</label>
                        <input type="date" id="start-date" class="vintage-input w-full border border-vintage-accent border-opacity-30 rounded-vintage px-vintage-md py-vintage-sm">
                    </div>
                    <div class="vintage-form-group">
                        <label class="vintage-label text-vintage-sm text-vintage-accent font-newspaper mb-1">End Date</label>
                        <input type="date" id="end-date" class="vintage-input w-full border border-vintage-accent border-opacity-30 rounded-vintage px-vintage-md py-vintage-sm">
                    </div>
                </div>
                <div class="flex justify-end space-x-vintage-md mt-vintage-lg">
                    <button id="cancel-date-range" class="px-vintage-md py-vintage-sm text-vintage-accent hover:text-vintage-sepia font-newspaper transition-colors duration-200">Cancel</button>
                    <button id="apply-date-range" class="vintage-button px-vintage-md py-vintage-sm rounded-vintage font-newspaper font-semibold">Apply</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="fixed inset-0 bg-vintage-paper bg-opacity-95 z-40 hidden">
        <div class="flex items-center justify-center min-h-screen">
            <div class="text-center">
                <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-vintage-sepia mx-auto"></div>
                <p class="mt-vintage-md vintage-body text-vintage-accent font-newspaper">Loading analytics data...</p>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-vintage-lg sm:px-vintage-xl lg:px-vintage-2xl py-vintage-xl">
        <!-- Summary Cards -->
        <section class="newspaper-column single gap-vintage-lg mb-vintage-xl
                       xs:newspaper-column xs:double xs:gap-vintage-md
                       md:newspaper-column md:double md:gap-vintage-lg
                       lg:newspaper-column lg:quadruple lg:gap-vintage-xl">
            <div class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
                <div class="flex items-center mb-vintage-md">
                    <div class="p-vintage-sm bg-vintage-sepia bg-opacity-20 rounded-vintage text-vintage-sepia text-2xl w-12 h-12 flex items-center justify-center">
                        <i class="fas fa-user-plus"></i>
                    </div>
                </div>
                <div class="space-y-1">
                    <p class="vintage-label text-vintage-sm text-vintage-accent font-newspaper">Total Connections</p>
                    <p id="total-connections" class="vintage-headline text-vintage-3xl font-bold text-vintage-ink font-newspaper">-</p>
                    <p id="connections-change" class="vintage-caption text-vintage-xs font-newspaper text-vintage-sage">-</p>
                </div>
            </div>

            <div class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
                <div class="flex items-center mb-vintage-md">
                    <div class="p-vintage-sm bg-vintage-sage bg-opacity-20 rounded-vintage text-vintage-sage text-2xl w-12 h-12 flex items-center justify-center">
                        <i class="fas fa-check-circle"></i>
                    </div>
                </div>
                <div class="space-y-1">
                    <p class="vintage-label text-vintage-sm text-vintage-accent font-newspaper">Acceptance Rate</p>
                    <p id="acceptance-rate" class="vintage-headline text-vintage-3xl font-bold text-vintage-ink font-newspaper">-</p>
                    <p id="acceptance-change" class="vintage-caption text-vintage-xs font-newspaper text-vintage-sage">-</p>
                </div>
            </div>

            <div class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
                <div class="flex items-center mb-vintage-md">
                    <div class="p-vintage-sm bg-vintage-accent bg-opacity-20 rounded-vintage text-vintage-accent text-2xl w-12 h-12 flex items-center justify-center">
                        <i class="fas fa-envelope"></i>
                    </div>
                </div>
                <div class="space-y-1">
                    <p class="vintage-label text-vintage-sm text-vintage-accent font-newspaper">Messages Sent</p>
                    <p id="messages-sent" class="vintage-headline text-vintage-3xl font-bold text-vintage-ink font-newspaper">-</p>
                    <p id="messages-change" class="vintage-caption text-vintage-xs font-newspaper text-vintage-sage">-</p>
                </div>
            </div>

            <div class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
                <div class="flex items-center mb-vintage-md">
                    <div class="p-vintage-sm bg-vintage-sepia-dark bg-opacity-20 rounded-vintage text-vintage-sepia-dark text-2xl w-12 h-12 flex items-center justify-center">
                        <i class="fas fa-reply"></i>
                    </div>
                </div>
                <div class="space-y-1">
                    <p class="vintage-label text-vintage-sm text-vintage-accent font-newspaper">Response Rate</p>
                    <p id="response-rate" class="vintage-headline text-vintage-3xl font-bold text-vintage-ink font-newspaper">-</p>
                    <p id="response-change" class="vintage-caption text-vintage-xs font-newspaper text-vintage-sage">-</p>
                </div>
            </div>
        </section>

        <!-- Charts Row 1 -->
        <section class="newspaper-column double gap-vintage-xl mb-vintage-xl">
            <!-- Connection Activity Chart -->
            <article class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
                <header class="flex items-center justify-between mb-vintage-md border-b border-vintage-accent border-opacity-20 pb-vintage-sm">
                    <h3 class="vintage-subheadline text-vintage-xl font-newspaper font-semibold text-vintage-ink">Connection Activity</h3>
                    <div class="flex space-x-2">
                        <button class="chart-period-btn vintage-body text-vintage-xs px-vintage-sm py-1 rounded-vintage bg-vintage-sepia text-vintage-paper font-newspaper font-medium" data-period="day">Daily</button>
                        <button class="chart-period-btn vintage-body text-vintage-xs px-vintage-sm py-1 rounded-vintage text-vintage-accent hover:bg-vintage-accent hover:bg-opacity-10 font-newspaper" data-period="week">Weekly</button>
                    </div>
                </header>
                <div class="h-64 bg-vintage-paper bg-opacity-30 rounded-vintage-sm p-vintage-sm">
                    <canvas id="connection-activity-chart"></canvas>
                </div>
            </article>

            <!-- Conversion Funnel -->
            <article class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
                <header class="border-b border-vintage-accent border-opacity-20 pb-vintage-sm mb-vintage-md">
                    <h3 class="vintage-subheadline text-vintage-xl font-newspaper font-semibold text-vintage-ink">Conversion Funnel</h3>
                </header>
                <div class="h-64 bg-vintage-paper bg-opacity-30 rounded-vintage-sm p-vintage-sm">
                    <canvas id="conversion-funnel-chart"></canvas>
                </div>
            </article>
        </section>

        <!-- Charts Row 2 -->
        <section class="newspaper-column double gap-vintage-xl mb-vintage-xl">
            <!-- Performance by Time -->
            <article class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
                <header class="border-b border-vintage-accent border-opacity-20 pb-vintage-sm mb-vintage-md">
                    <h3 class="vintage-subheadline text-vintage-xl font-newspaper font-semibold text-vintage-ink">Best Performance Times</h3>
                </header>
                <div class="h-64 bg-vintage-paper bg-opacity-30 rounded-vintage-sm p-vintage-sm">
                    <canvas id="performance-time-chart"></canvas>
                </div>
            </article>

            <!-- Template Performance -->
            <article class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
                <header class="border-b border-vintage-accent border-opacity-20 pb-vintage-sm mb-vintage-md">
                    <h3 class="vintage-subheadline text-vintage-xl font-newspaper font-semibold text-vintage-ink">Template Performance</h3>
                </header>
                <div class="h-64 bg-vintage-paper bg-opacity-30 rounded-vintage-sm p-vintage-sm">
                    <canvas id="template-performance-chart"></canvas>
                </div>
            </article>
        </section>

        <!-- Insights and Recommendations -->
        <section class="newspaper-column double gap-vintage-xl mb-vintage-xl">
            <!-- Insights -->
            <article class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
                <header class="border-b border-vintage-accent border-opacity-20 pb-vintage-sm mb-vintage-md">
                    <h3 class="vintage-subheadline text-vintage-xl font-newspaper font-semibold text-vintage-ink">
                        <i class="fas fa-lightbulb text-vintage-sepia mr-2"></i>Key Insights
                    </h3>
                </header>
                <div id="insights-container" class="space-y-vintage-md">
                    <!-- Insights will be populated dynamically -->
                </div>
            </article>

            <!-- Recommendations -->
            <article class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
                <header class="border-b border-vintage-accent border-opacity-20 pb-vintage-sm mb-vintage-md">
                    <h3 class="vintage-subheadline text-vintage-xl font-newspaper font-semibold text-vintage-ink">
                        <i class="fas fa-bullseye text-vintage-accent mr-2"></i>Recommendations
                    </h3>
                </header>
                <div id="recommendations-container" class="space-y-vintage-md">
                    <!-- Recommendations will be populated dynamically -->
                </div>
            </article>
        </section>

        <!-- Detailed Analytics Tables -->
        <section class="newspaper-column double gap-vintage-xl mb-vintage-xl">
            <!-- Campaign Performance -->
            <article class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
                <header class="border-b border-vintage-accent border-opacity-20 pb-vintage-sm mb-vintage-md">
                    <h3 class="vintage-subheadline text-vintage-xl font-newspaper font-semibold text-vintage-ink">Campaign Performance</h3>
                </header>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-vintage-accent divide-opacity-20">
                        <thead class="bg-vintage-paper-dark">
                            <tr>
                                <th class="px-vintage-md py-vintage-sm text-left vintage-label text-vintage-xs text-vintage-accent uppercase tracking-wider font-newspaper">Campaign</th>
                                <th class="px-vintage-md py-vintage-sm text-left vintage-label text-vintage-xs text-vintage-accent uppercase tracking-wider font-newspaper">Connections</th>
                                <th class="px-vintage-md py-vintage-sm text-left vintage-label text-vintage-xs text-vintage-accent uppercase tracking-wider font-newspaper">Rate</th>
                                <th class="px-vintage-md py-vintage-sm text-left vintage-label text-vintage-xs text-vintage-accent uppercase tracking-wider font-newspaper">Status</th>
                            </tr>
                        </thead>
                        <tbody id="campaign-performance-table" class="bg-vintage-paper divide-y divide-vintage-accent divide-opacity-10">
                            <!-- Campaign data will be populated dynamically -->
                        </tbody>
                    </table>
                </div>
            </article>

            <!-- Template Analytics -->
            <article class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
                <header class="border-b border-vintage-accent border-opacity-20 pb-vintage-sm mb-vintage-md">
                    <h3 class="vintage-subheadline text-vintage-xl font-newspaper font-semibold text-vintage-ink">Template Analytics</h3>
                </header>
                <div class="overflow-x-auto">
                    <table class="min-w-full divide-y divide-vintage-accent divide-opacity-20">
                        <thead class="bg-vintage-paper-dark">
                            <tr>
                                <th class="px-vintage-md py-vintage-sm text-left vintage-label text-vintage-xs text-vintage-accent uppercase tracking-wider font-newspaper">Template</th>
                                <th class="px-vintage-md py-vintage-sm text-left vintage-label text-vintage-xs text-vintage-accent uppercase tracking-wider font-newspaper">Usage</th>
                                <th class="px-vintage-md py-vintage-sm text-left vintage-label text-vintage-xs text-vintage-accent uppercase tracking-wider font-newspaper">Success Rate</th>
                                <th class="px-vintage-md py-vintage-sm text-left vintage-label text-vintage-xs text-vintage-accent uppercase tracking-wider font-newspaper">Trend</th>
                            </tr>
                        </thead>
                        <tbody id="template-analytics-table" class="bg-vintage-paper divide-y divide-vintage-accent divide-opacity-10">
                            <!-- Template data will be populated dynamically -->
                        </tbody>
                    </table>
                </div>
            </article>
        </section>

        <!-- Export Section -->
        <section class="vintage-card p-vintage-lg border border-vintage-accent border-opacity-10">
            <header class="border-b border-vintage-accent border-opacity-20 pb-vintage-sm mb-vintage-md">
                <h3 class="vintage-subheadline text-vintage-xl font-newspaper font-semibold text-vintage-ink">Export Data</h3>
            </header>
            <div class="flex flex-wrap gap-vintage-md">
                <button id="export-csv" class="vintage-button px-vintage-md py-vintage-sm rounded-vintage font-newspaper font-semibold transition-all duration-200">
                    <i class="fas fa-file-csv mr-2"></i>Export CSV
                </button>
                <button id="export-json" class="border border-vintage-accent text-vintage-accent bg-vintage-paper px-vintage-md py-vintage-sm rounded-vintage font-newspaper font-medium hover:bg-vintage-accent hover:text-vintage-paper transition-all duration-200">
                    <i class="fas fa-file-code mr-2"></i>Export JSON
                </button>
                <button id="export-pdf" class="border border-vintage-sepia-dark text-vintage-sepia-dark bg-vintage-paper px-vintage-md py-vintage-sm rounded-vintage font-newspaper font-medium hover:bg-vintage-sepia-dark hover:text-vintage-paper transition-all duration-200">
                    <i class="fas fa-file-pdf mr-2"></i>Export PDF Report
                </button>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="vintage-card border-t border-vintage-accent border-opacity-20 mt-vintage-2xl">
        <div class="max-w-7xl mx-auto px-vintage-lg sm:px-vintage-xl lg:px-vintage-2xl py-vintage-lg">
            <div class="text-center vintage-fine-print text-vintage-accent font-newspaper">
                <p>&copy; 2025 LinkedIn Chronicle Analytics. Last updated: <span id="last-updated" class="text-vintage-ink font-medium"></span></p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="analytics-dashboard.js"></script>
</body>
</html>